# ==================== PRODUCTION ENVIRONMENT CONFIGURATION ====================

# Application Settings
APP_NAME=MCP-ChatBot
ENVIRONMENT=production  # development, staging, production
DEBUG=False
VERSION=1.0.0

# API Configuration
API_V1_STR=/api/v1
SECRET_KEY=your-secret-key-here-change-in-production-min-32-chars
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com

# ==================== DATABASE ====================

# PostgreSQL
DATABASE_URL=postgresql+asyncpg://chatbot:chatbot_password@localhost:5432/chatbot
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600

# Redis
REDIS_URL=redis://:redis_password@localhost:6379/0
REDIS_SESSION_DB=1
REDIS_CACHE_DB=2

# ==================== LLM PROVIDERS ====================

# Provider Selection
LLM_PROVIDER=deepseek  # options: deepseek, ollama, anthropic, openai

# API Keys
OPENAI_API_KEY=sk-...
DEEPSEEK_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# Ollama
OLLAMA_BASE_URL=http://localhost:11434

# Default Models
DEFAULT_MODEL_GPT=gpt-4-turbo
DEFAULT_MODEL_CLAUDE=claude-3-sonnet-20240229
DEFAULT_MODEL_DEEPSEEK=deepseek-chat

# ==================== AUTHENTICATION ====================

# JWT
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours
REFRESH_TOKEN_EXPIRE_DAYS=30

# OAuth2 (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# ==================== RATE LIMITING ====================

# Free Tier
FREE_REQUESTS_PER_MINUTE=10
FREE_REQUESTS_PER_HOUR=100
FREE_REQUESTS_PER_DAY=1000
FREE_TOKENS_PER_DAY=100000

# Pro Tier
PRO_REQUESTS_PER_MINUTE=60
PRO_REQUESTS_PER_HOUR=1000
PRO_REQUESTS_PER_DAY=10000
PRO_TOKENS_PER_DAY=1000000

# Enterprise Tier
ENTERPRISE_REQUESTS_PER_MINUTE=300
ENTERPRISE_REQUESTS_PER_HOUR=10000
ENTERPRISE_REQUESTS_PER_DAY=100000
ENTERPRISE_TOKENS_PER_DAY=10000000

# ==================== MCP CONFIGURATION ====================

MCP_SERVER_COMMAND=python
MCP_SERVER_ARGS=[]
MCP_TIMEOUT_SECONDS=30

# ==================== MONITORING & LOGGING ====================

# Sentry
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Log Level
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json, text

# Metrics
ENABLE_PROMETHEUS_METRICS=True
METRICS_PORT=9090

# ==================== EMAIL ====================

# SMTP
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@chatbot.com
SMTP_FROM_NAME=MCP ChatBot

# Email Templates
SEND_WELCOME_EMAIL=True
SEND_VERIFICATION_EMAIL=True

# ==================== FILE STORAGE ====================

# Upload Settings
MAX_UPLOAD_SIZE_MB=10
ALLOWED_UPLOAD_TYPES=pdf,docx,txt,csv,json,png,jpg,jpeg

# Storage Backend (local, s3, gcs)
STORAGE_BACKEND=local
STORAGE_PATH=/app/uploads

# AWS S3 (if using)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1

# ==================== CORS ====================

CORS_ORIGINS=http://localhost:3000,https://your-frontend-domain.com
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# ==================== SECURITY ====================

# Password Requirements
MIN_PASSWORD_LENGTH=8
REQUIRE_PASSWORD_UPPERCASE=True
REQUIRE_PASSWORD_LOWERCASE=True
REQUIRE_PASSWORD_DIGIT=True
REQUIRE_PASSWORD_SPECIAL=True

# Session
SESSION_COOKIE_SECURE=True  # True in production with HTTPS
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=lax

# ==================== FEATURE FLAGS ====================

ENABLE_STREAMING=True
ENABLE_WEBSOCKETS=True
ENABLE_CONVERSATION_EXPORT=True
ENABLE_RICH_MEDIA=True
ENABLE_TOOL_CALLS=True
ENABLE_USER_REGISTRATION=True
ENABLE_API_KEYS=True

# ==================== BACKGROUND TASKS ====================

# Celery
CELERY_BROKER_URL=redis://:redis_password@localhost:6379/1
CELERY_RESULT_BACKEND=redis://:redis_password@localhost:6379/1
CELERY_TASK_ALWAYS_EAGER=False  # True for sync execution in dev
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# ==================== ANALYTICS ====================

# Google Analytics
GA_TRACKING_ID=

# Mixpanel
MIXPANEL_TOKEN=

# PostHog
POSTHOG_API_KEY=
POSTHOG_HOST=https://app.posthog.com

# ==================== DEVELOPMENT ====================

# Hot Reload
RELOAD=False  # True in development

# Testing
TESTING=False
TEST_DATABASE_URL=postgresql+asyncpg://chatbot:chatbot_password@localhost:5432/chatbot_test

# ==================== DEPLOYMENT ====================

# Server
HOST=0.0.0.0
PORT=8000
WORKERS=4  # Number of uvicorn workers

# Proxy
TRUST_PROXY_HEADERS=True
FORWARDED_ALLOW_IPS=*

# Health Checks
HEALTH_CHECK_INTERVAL=30

# ==================== NOTES ====================
# 
# SECURITY REMINDERS:
# 1. Change all SECRET_KEY values to strong random strings
# 2. Use environment-specific values (don't reuse dev keys in prod)
# 3. Store sensitive values in secret management (AWS Secrets Manager, HashiCorp Vault)
# 4. Enable HTTPS in production (set SESSION_COOKIE_SECURE=True)
# 5. Restrict CORS_ORIGINS to your actual domains
# 6. Use strong database passwords
# 7. Enable rate limiting
# 8. Set up monitoring and alerts
#
# PERFORMANCE TIPS:
# 1. Tune DB_POOL_SIZE based on load
# 2. Adjust WORKERS based on CPU cores (2-4 per core)
# 3. Enable Redis for caching
# 4. Use CDN for static assets
# 5. Configure proper log levels (INFO or WARNING in production)
#
# MONITORING:
# 1. Set up Sentry for error tracking
# 2. Enable Prometheus metrics
# 3. Configure log aggregation (ELK, Datadog)
# 4. Set up uptime monitoring
# 5. Configure alerts for critical errors
